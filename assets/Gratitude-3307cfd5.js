import{r as d,x as T,u as W,j as u}from"./index-e23d1485.js";import{F as _}from"./index.es-375a1ad7.js";import{f as L}from"./index-de425f2c.js";var N=typeof window>"u"?d.useEffect:d.useLayoutEffect,P=({isPlaying:t,duration:e,startAt:a=0,updateInterval:r=0,onComplete:n,onUpdate:s})=>{let[i,c]=d.useState(a),h=d.useRef(0),p=d.useRef(a),g=d.useRef(a*-1e3),l=d.useRef(null),o=d.useRef(null),v=d.useRef(null),x=y=>{let m=y/1e3;if(o.current===null){o.current=m,l.current=requestAnimationFrame(x);return}let f=m-o.current,k=h.current+f;o.current=m,h.current=k;let j=p.current+(r===0?k:(k/r|0)*r),R=p.current+k,C=typeof e=="number"&&R>=e;c(C?e:j),C||(l.current=requestAnimationFrame(x))},w=()=>{l.current&&cancelAnimationFrame(l.current),v.current&&clearTimeout(v.current),o.current=null},$=d.useCallback(y=>{w(),h.current=0;let m=typeof y=="number"?y:a;p.current=m,c(m),t&&(l.current=requestAnimationFrame(x))},[t,a]);return N(()=>{if(s==null||s(i),e&&i>=e){g.current+=e*1e3;let{shouldRepeat:y=!1,delay:m=0,newStartAt:f}=(n==null?void 0:n(g.current/1e3))||{};y&&(v.current=setTimeout(()=>$(f),m*1e3))}},[i,e]),N(()=>(t&&(l.current=requestAnimationFrame(x)),w),[t,e,r]),{elapsedTime:i,reset:$}},S=(t,e,a)=>{let r=t/2,n=e/2,s=r-n,i=2*s,c=a==="clockwise"?"1,0":"0,1",h=2*Math.PI*s;return{path:`m ${r},${n} a ${s},${s} 0 ${c} 0,${i} a ${s},${s} 0 ${c} 0,-${i}`,pathLength:h}},b=(t,e)=>t===0||t===e?0:typeof e=="number"?t-e:0,D=t=>({position:"relative",width:t,height:t}),q={display:"flex",justifyContent:"center",alignItems:"center",position:"absolute",left:0,top:0,width:"100%",height:"100%"},E=(t,e,a,r,n)=>{if(r===0)return e;let s=(n?r-t:t)/r;return e+a*s},A=t=>{var e,a;return(a=(e=t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(r,n,s,i)=>`#${n}${n}${s}${s}${i}${i}`).substring(1).match(/.{2}/g))==null?void 0:e.map(r=>parseInt(r,16)))!=null?a:[]},z=(t,e)=>{var a;let{colors:r,colorsTime:n,isSmoothColorTransition:s=!0}=t;if(typeof r=="string")return r;let i=(a=n==null?void 0:n.findIndex((o,v)=>o>=e&&e>=n[v+1]))!=null?a:-1;if(!n||i===-1)return r[0];if(!s)return r[i];let c=n[i]-e,h=n[i]-n[i+1],p=A(r[i]),g=A(r[i+1]),l=!!t.isGrowing;return`rgb(${p.map((o,v)=>E(c,o,g[v]-o,h,l)|0).join(",")})`},I=t=>{let{duration:e,initialRemainingTime:a,updateInterval:r,size:n=180,strokeWidth:s=12,trailStrokeWidth:i,isPlaying:c=!1,isGrowing:h=!1,rotation:p="clockwise",onComplete:g,onUpdate:l}=t,o=d.useRef(),v=Math.max(s,i??0),{path:x,pathLength:w}=S(n,v,p),{elapsedTime:$}=P({isPlaying:c,duration:e,startAt:b(e,a),updateInterval:r,onUpdate:typeof l=="function"?m=>{let f=Math.ceil(e-m);f!==o.current&&(o.current=f,l(f))}:void 0,onComplete:typeof g=="function"?m=>{var f;let{shouldRepeat:k,delay:j,newInitialRemainingTime:R}=(f=g(m))!=null?f:{};if(k)return{shouldRepeat:k,delay:j,newStartAt:b(e,R)}}:void 0}),y=e-$;return{elapsedTime:$,path:x,pathLength:w,remainingTime:Math.ceil(y),rotation:p,size:n,stroke:z(t,y),strokeDashoffset:E($,0,w,e,h),strokeWidth:s}},F=t=>{let{children:e,strokeLinecap:a,trailColor:r,trailStrokeWidth:n}=t,{path:s,pathLength:i,stroke:c,strokeDashoffset:h,remainingTime:p,elapsedTime:g,size:l,strokeWidth:o}=I(t);return T.createElement("div",{style:D(l)},T.createElement("svg",{viewBox:`0 0 ${l} ${l}`,width:l,height:l,xmlns:"http://www.w3.org/2000/svg"},T.createElement("path",{d:s,fill:"none",stroke:r??"#d9d9d9",strokeWidth:n??o}),T.createElement("path",{d:s,fill:"none",stroke:c,strokeLinecap:a??"round",strokeWidth:o,strokeDasharray:i,strokeDashoffset:h})),typeof e=="function"&&T.createElement("div",{style:q},e({remainingTime:p,elapsedTime:g,color:c})))};F.displayName="CountdownCircleTimer";function B(){const t=W(),{remainingTime:e}=I({isPlaying:!0,duration:4,colors:"var(--color-primary)"});return d.useEffect(()=>{setTimeout(()=>{t("/")},e*1e3)},[t,e]),u.jsx(u.Fragment,{children:u.jsxs("div",{className:"thanks",children:[u.jsx("h2",{className:"thanks__h2",children:"Thank you !"}),u.jsx("div",{className:"thanks__icon",children:u.jsx(_,{icon:L,size:"4x",className:"gratitude-thumb",color:"var(--color-primary)"})}),u.jsx("p",{className:"thanks__p",children:"Your form has been submitted"}),u.jsx("div",{className:"thanks__timer",children:u.jsx(F,{isPlaying:!0,duration:4,colors:"var(--color-primary)",onComplete:()=>({shouldRepeat:!1}),children:({remainingTime:a})=>u.jsxs("div",{className:"timer",children:[u.jsx("div",{className:"text",children:"Redirecting in"}),u.jsx("div",{className:"value",children:u.jsx("p",{children:a})}),u.jsx("div",{className:"text",children:"seconds"})]})})})]})})}export{B as default};
